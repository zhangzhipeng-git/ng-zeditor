{"version":3,"file":"bigbigbird-ng-zeditor.umd.js","sources":["../../../../projects/bigbigbird/ng-zeditor/src/lib/util/safeHtml.pipe.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/_alert/tip/tip.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/service/tokens.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/_alert/window/window.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/service/DomService.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/ui-link/ui-link.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/ui-table/ui-table.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/ui-annex/ui-annex.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/_form/checkbox/checkbox.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/_form/radio-group/radio-group.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/util/CommonUtil.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/util/CursorUtil.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/ng-zeditor.component.ts","../../../../projects/bigbigbird/ng-zeditor/src/lib/ng-zeditor.module.ts"],"sourcesContent":["/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: ä¿¡ä»»htmlç®¡é\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:36:53 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safeHTML'})\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  transform(content) {\r\n    return this.sanitizer.bypassSecurityTrustHtml(content);\r\n  }\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: toastç»ä»¶\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:25:54 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport { Component, ViewChild, TemplateRef, ApplicationRef, ComponentRef, EmbeddedViewRef } from '@angular/core';\r\n\r\n@Component({\r\n    // tslint:disable-next-line: component-selector\r\n    selector: 'app-tip',\r\n    templateUrl: 'tip.component.html'\r\n})\r\n\r\nexport class TipComponent {\r\n    /** æ¯å¦æ¿æ´» */\r\n    active: boolean;\r\n    /** æ¯å¦åå¤è¦æ¿æ´» */\r\n    ready: boolean;\r\n    text: string;\r\n    enter: number;\r\n    leave: number;\r\n    duration: number;\r\n    animation: string;\r\n    componentRef: ComponentRef<TipComponent>;\r\n    @ViewChild('tip', {read: TemplateRef, static: true }) tip: TemplateRef<any>;\r\n    get embeddedViewRef() {\r\n        return this.componentRef.hostView as EmbeddedViewRef<any>;\r\n    }\r\n    get rootNode() {\r\n        return this.embeddedViewRef.rootNodes[0];\r\n    }\r\n    get Infinity() {\r\n        return Number.POSITIVE_INFINITY;\r\n    }\r\n    constructor(\r\n        private appRef: ApplicationRef\r\n    ) { }\r\n\r\n    /**\r\n     * æå¼\r\n     * @param options éç½®åæ°\r\n     */\r\n    open(options?: Options) {\r\n        options = Object.assign(this, { enter: 200, leave: 200, duration: 1500, text: '', animation: 'scale' }, options);\r\n        this.text = options.text;\r\n        this.enter = options.enter;\r\n        this.leave = options.leave;\r\n        this.duration = options.duration;\r\n        this.animation = options.animation;\r\n        this.appRef.attachView(this.embeddedViewRef);\r\n        window.document.body.appendChild(this.rootNode);\r\n        // å»¶æ¶æ¿æ´»ï¼é²æ­¢è¿å¥å¨ç»ä¸çæ\r\n        this.ready = true;\r\n        const t = setTimeout(() => { clearTimeout(t); this.active = true; });\r\n        // éæå¨å³é­ï¼å¨æå®æ¶é´åå³é­\r\n        if (this.duration !== -1 && this.duration !== Infinity) { this.close(); }\r\n    }\r\n\r\n    /**\r\n     * å³é­å¼¹çª\r\n     */\r\n    close() {\r\n        // ç¦»å¼\r\n        const t1 = setTimeout(() => {\r\n            clearTimeout(t1);\r\n            this.ready = false;\r\n            this.active = false;\r\n        }, this.enter + this.duration);\r\n        // å½»åºç§»é¤\r\n        const t2 = setTimeout(() => {\r\n            clearTimeout(t2);\r\n            window.document.body.removeChild(this.rootNode);\r\n            this.appRef.detachView(this.embeddedViewRef);\r\n        }, this.enter + this.duration + this.leave);\r\n    }\r\n\r\n}\r\n\r\nexport interface Options {\r\n    /* æç¤ºæå­ */\r\n    text?: string;\r\n    /**\r\n     * å¨ç»åç§°\r\n     * - trans1 ä»ä¸å¾ä¸ï¼è¿å¥ï¼ -> ä»ä¸å°ä¸ï¼ç¦»å¼ï¼\r\n     * - trans2 ä»ä¸å°ä¸ï¼è¿å¥ï¼ -> ä»ä¸å¾ä¸ï¼ç¦»å¼ï¼\r\n     * - scale  æ¾å¤§ï¼è¿å¥ï¼ -> ä»ä¸å°ä¸ï¼ç¦»å¼ï¼ç¼©å°\r\n     */\r\n    animation?: string;\r\n    /** åçæ¶é´ */\r\n    duration?: number;\r\n    /** è¿å¥è¿æ¸¡æ¶é´ */\r\n    enter?: number;\r\n    /** ç¦»å¼è¿æ¸¡æ¶é´ */\r\n    leave?: number;\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: ä»¤çåº\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:34:40 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport { InjectionToken } from '@angular/core';\r\nexport const TYPE = new InjectionToken('string or function');\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: å¼¹çªç»ä»¶\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:26:52 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport {\r\n    Component,\r\n    ViewChild,\r\n    ElementRef,\r\n    Type,\r\n    ViewContainerRef,\r\n    ApplicationRef,\r\n    ComponentFactoryResolver,\r\n    ComponentRef,\r\n    EmbeddedViewRef,\r\n    Injector\r\n} from '@angular/core';\r\nimport { TYPE } from '../../service/tokens';\r\n\r\n@Component({\r\n    selector: 'app-window',\r\n    templateUrl: './window.component.html',\r\n})\r\nexport class WindowComponent {\r\n    min: boolean = true;\r\n    theme: string;\r\n    animation: string;\r\n    title: string;\r\n    isScale: boolean;\r\n    active: boolean;\r\n    isMove: boolean;\r\n    callback: any;\r\n    leave: number;\r\n    enter: number;\r\n    content: string | Type<any>;\r\n    handler: any;\r\n    componentRef: ComponentRef<WindowComponent>;\r\n    @ViewChild('mask', { read: ElementRef, static: true }) mask: ElementRef;\r\n    @ViewChild('window', { read: ElementRef, static: true }) window: ElementRef;\r\n    @ViewChild('component', { read: ViewContainerRef, static: true }) component: ViewContainerRef;\r\n    get embeddedViewRef() {\r\n        return this.componentRef.hostView as EmbeddedViewRef<any>;\r\n    }\r\n    get rootNode() {\r\n        return this.embeddedViewRef.rootNodes[0];\r\n    }\r\n    get type() {\r\n        return this.injector.get(TYPE) as string;\r\n    }\r\n\r\n    constructor(\r\n        private injector: Injector,\r\n        private applicationRef: ApplicationRef,\r\n        private componentFactoryResolver: ComponentFactoryResolver\r\n    ) { }\r\n    /**\r\n     * æ¾å¤§ç¼©å°\r\n     * @param e ç¹å»äºä»¶\r\n     */\r\n    switchSize(e: any) {\r\n        if (this.min) { // å½åç¶æä¸ºç¼©å°ï¼ç¹å»æ¾å¤§\r\n            this.window.nativeElement.style.cssText = 'height:100%;width:100%;top:0;left:0;';\r\n            this.min = false;\r\n            const maximize = this.callback.maximize;\r\n            // tslint:disable-next-line: no-unused-expression\r\n            maximize && maximize();\r\n        } else { // å½åç¶æä¸ºæ¾å¤§ï¼ç¹å»ç¼©å°\r\n            this.window.nativeElement.style.cssText = this.window.nativeElement._minStyle;\r\n            this.min = true;\r\n            const minimize = this.callback.minimize;\r\n            // tslint:disable-next-line: no-unused-expression\r\n            minimize && minimize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ç¹å»å³é­å¼¹çª\r\n     * @param e äºä»¶\r\n     */\r\n    close(e: any) {\r\n        // è®¾ç½®å³é­æ¶çæ¸å\r\n        // å°è¡åtopæ ·å¼æ¶é¤ï¼ä¼åçº§æé«ä¼è¦çcssæä»¶ä¸­çtopæ ·å¼ï¼ï¼ä½¿cssä¸­ç¦»å¼æ¶çtopæ ·å¼çæï¼å¦åcssç±»trans1åtrans2çç¦»å¼æ¸åä¸çæ\r\n        this.window.nativeElement.style.cssText = this.window.nativeElement.style.cssText.replace(/top:(.*)?;/, '');\r\n        this.window.nativeElement.style.transition = 'all ' + this.leave / 1000 + 's';\r\n        this.active = false;\r\n        this.mask.nativeElement.style.display = 'none';\r\n        // ç§»é¤\r\n        setTimeout(() => {\r\n            window.document.body.removeChild(this.rootNode);\r\n            this.applicationRef.detachView(this.embeddedViewRef);\r\n            this.componentRef.destroy();\r\n            this.componentRef = null;\r\n            const close = this.callback.close;\r\n            // tslint:disable-next-line: no-unused-expression\r\n            close && close(e);\r\n\r\n        }, this.leave);\r\n    }\r\n\r\n    /**\r\n     * åå§åæå¼æä½\r\n     * @param  options?\r\n     */\r\n    beforeOpen(options?: WindowOptions) {\r\n        // tslint:disable-next-line: max-line-length\r\n        Object.assign(this, { title: 'å¼¹çª', animation: 'trans1', enter: 200, leave: 200, isScale: false, isMove: true, content: 'ä»ä¹ä¹æ¨æ~', callback: {}, theme: '' }, options);\r\n        if (this.type === 'string') { return; }\r\n        this.component.clear();\r\n        const factory = this.componentFactoryResolver.resolveComponentFactory( (this.content) as Type<any>);\r\n        const componentRef = this.component.createComponent(factory);\r\n        const componentInstance = componentRef.instance;\r\n        componentInstance.parent = this;\r\n        componentInstance.handler = this.handler;\r\n    }\r\n\r\n    /**\r\n     * æå¼å¼¹çª\r\n     */\r\n    open(options?: WindowOptions) {\r\n        this.beforeOpen(options);\r\n        this.mask.nativeElement.style.display = 'block';\r\n        this.applicationRef.attachView(this.embeddedViewRef);\r\n        window.document.body.appendChild(this.rootNode);\r\n        // å·¦å³å±ä¸­ï¼topç¨cssæ§å¶\r\n        const w = this.window.nativeElement.offsetWidth;\r\n        const h = this.window.nativeElement.offsetHeight;\r\n        // å½åçªå£å¤§å°ï¼this.window.parentNode => position:fixed;height:100%;width:100%\r\n        const ww = this.window.nativeElement.parentNode.offsetWidth;\r\n        // åå§å®ä½\r\n        const leftStyle = 'left:' + ((ww - w) / 2) + 'px;';\r\n        this.window.nativeElement.style.cssText += leftStyle;\r\n        // è®°å½æå°åæ¶çæ ·å¼\r\n        this.window.nativeElement._minStyle = leftStyle + 'width:' + (w + 1) + 'px;height:' + (h + 1) + 'px;';\r\n        // è®¾ç½®æå¼æ¶çæ¸å\r\n        this.window.nativeElement.style.transition = 'all ' + (this.enter / 1000) + 's';\r\n        // è¿å¥æ¿æ´»ç¶æï¼å¼¹çªåçï¼\r\n        setTimeout(() => this.active = true);\r\n        // åæ¶æ¸åï¼å¦åç§»å¨ä¼ææ¸å\r\n        setTimeout(() => {\r\n            this.window.nativeElement.style.transition = 'none';\r\n        }, this.enter);\r\n    }\r\n    /**\r\n     * é»æ­¢ææ½\r\n     * @param e ææ½äºä»¶\r\n     */\r\n    tragstart(e: any) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        e.returnValue = false;\r\n    }\r\n    /**\r\n     * å¼å§ç§»å¨\r\n     * @param e äºä»¶\r\n     */\r\n    start(e: any) {\r\n        // å¨å±ç¶æä¸å¯ç§»å¨\r\n        if (!this.min) { return; }\r\n        // ç§»å¨åæ°ä¼ å¥falseï¼ä¸å¯ç§»å¨\r\n        if (!this.isMove) { return; }\r\n        const point = {\r\n            x: e.pageX || e.clientX,\r\n            y: e.pageY || e.clientY\r\n        };\r\n        const dis = {\r\n            x: this.window.nativeElement.offsetLeft - point.x,\r\n            y: this.window.nativeElement.offsetTop - point.y\r\n        };\r\n        this.window.nativeElement._dis = dis;\r\n        // æµè§å¨çªä½\r\n        window.onmouseup = this.end;\r\n        window.onmousemove = this.move;\r\n    }\r\n    /**\r\n     * ç§»å¨\r\n     * @param e äºä»¶\r\n     */\r\n    move = (e: any) => {\r\n        const point = {\r\n            x: e.pageX || e.clientX,\r\n            y: e.pageY || e.clientY\r\n        };\r\n        let top = point.y + this.window.nativeElement._dis.y;\r\n        let left = point.x + this.window.nativeElement._dis.x;\r\n        // å½åçªå£å¤§å°ï¼this.window.parentNode => position:fixed;height:100%;width:100%\r\n        let maxX = this.window.nativeElement.parentNode.clientWidth - this.window.nativeElement.offsetWidth;\r\n        let maxY = this.window.nativeElement.parentNode.clientHeight - this.window.nativeElement.offsetHeight;\r\n        if (maxX < 0) { maxX = 0; }\r\n        if (maxY < 0) { maxY = 0; }\r\n        // å¤æ­æ¯å¦è¶ç\r\n        if (top <= 0) { // yæ¹å\r\n            top = 0;\r\n        } else if (top >= maxY) {\r\n            top = maxY;\r\n        }\r\n        if (left <= 0) { // xæ¹å\r\n            left = 0;\r\n        } else if (left >= maxX) {\r\n            left = maxX - 1; // æ¶é¤è¯¯å·®ï¼é²æ­¢å³æè¿åº¦å¯¼è´å®½åº¦åå°\r\n        }\r\n        this.window.nativeElement.style.top = top + 'px';\r\n        this.window.nativeElement.style.left = left + 'px';\r\n    }\r\n    /**\r\n     * åæ­¢ç§»å¨\r\n     * @param e äºä»¶\r\n     */\r\n    end(e: any) {\r\n        window.onmouseup = null;\r\n        window.onmousemove = null;\r\n    }\r\n}\r\n\r\nexport interface WindowOptions {\r\n    /** å¼¹çªæ é¢ */\r\n    title?: string;\r\n    /**\r\n     * å¨ç»åç§°\r\n     * - trans1 ä»ä¸å¾ä¸ï¼è¿å¥ï¼ -> ä»ä¸å°ä¸ï¼ç¦»å¼ï¼\r\n     * - trans2 ä»ä¸å°ä¸ï¼è¿å¥ï¼ -> ä»ä¸å¾ä¸ï¼ç¦»å¼ï¼\r\n     * - scale  æ¾å¤§ï¼è¿å¥ï¼ -> ä»ä¸å°ä¸ï¼ç¦»å¼ï¼ç¼©å°\r\n     */\r\n    animation?: string;\r\n    /** è¿å¥è¿æ¸¡æ¶é´ */\r\n    enter?: number;\r\n    /** ç¦»å¼è¿æ¸¡æ¶é´ */\r\n    leave?: number;\r\n    /** åè° */\r\n    callback?: WindowCallback;\r\n    /** html | ç»ä»¶ */\r\n    content?: string | Type<any>;\r\n    /** çªä½æ¯å¦å¯æ¾å¤§ç¼©å° */\r\n    isScale?: boolean;\r\n    /** æ¯å¦å¯ç§»å¨ */\r\n    isMove?: boolean;\r\n    /**\r\n     *  ç»ä»¶å®ä¾\r\n     */\r\n    handler?: any;\r\n    // tslint:disable-next-line: jsdoc-format\r\n    /** ä¸»é¢ r g b p*/\r\n    theme?: string;\r\n}\r\n\r\n/** åè° */\r\nexport interface WindowCallback {\r\n    /** å³é­åè° */\r\n    close?(): void;\r\n    /** æå°ååè° */\r\n    minimize?(): void;\r\n    /** æå¤§ååè° */\r\n    maximize?(): void;\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: domæä¾å\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:34:12 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport { Injectable, ComponentFactoryResolver, Injector, ReflectiveInjector } from '@angular/core';\r\nimport { TipComponent, Options } from '../_alert/tip/tip';\r\nimport { WindowComponent, WindowOptions } from '../_alert/window/window';\r\nimport { TYPE } from './tokens';\r\n\r\n@Injectable()\r\nexport class DomService {\r\n\r\n    /** tostå®ä¾ */\r\n    private toastInstance: TipComponent;\r\n\r\n    constructor(\r\n        private injector: Injector,\r\n        private componentResolverFactory: ComponentFactoryResolver\r\n    ) { }\r\n\r\n    tost(options?: Options) {\r\n        if (!this.toastInstance) {\r\n            const factory = this.componentResolverFactory.resolveComponentFactory(TipComponent);\r\n            const componentRef = factory.create(this.injector);\r\n            this.toastInstance = componentRef.instance;\r\n            this.toastInstance.componentRef = componentRef;\r\n        }\r\n        this.toastInstance.open(options);\r\n        return this.toastInstance;\r\n    }\r\n\r\n    alert(options?: WindowOptions) {\r\n        const factory = this.componentResolverFactory.resolveComponentFactory(WindowComponent);\r\n        // tslint:disable-next-line: deprecation\r\n        const injector = ReflectiveInjector.resolveAndCreate([{provide: TYPE, useValue: typeof options.content}]);\r\n        const componentRef = factory.create(injector);\r\n        const instance = componentRef.instance;\r\n        instance.componentRef = componentRef;\r\n        instance.open(options);\r\n    }\r\n\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: é¾æ¥ç»ä»¶\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:35:23 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { DomService } from '../service/DomService';\r\n\r\n@Component({\r\n    selector: 'app-link',\r\n    templateUrl: './ui-link.component.html'\r\n})\r\nexport class UILinkComponent {\r\n    /** æ¯å¦å¨æ°çªå£æå¼ */\r\n    checked = false;\r\n    /** æ é¢ */\r\n    title = '';\r\n    /** url */\r\n    url = 'https://';\r\n    /** åå®¹ */\r\n    content = '';\r\n    handler: any;\r\n    parent: any;\r\n\r\n    constructor(\r\n        private domService: DomService\r\n    ) { }\r\n\r\n    /**\r\n     * åå°form\r\n     */\r\n    emitLinkHTML() {\r\n        if (!/^(\\/\\/|https?:)\\/\\/.+/.test(this.url)) {\r\n            this.domService.tost({\r\n                text: 'é¾æ¥å°åä¸è§è'\r\n            });\r\n            return;\r\n        }\r\n        if (!this.content) {\r\n            this.domService.tost({\r\n                text: 'è¯·å¡«ååå®¹'\r\n            });\r\n            return;\r\n        }\r\n        const html =\r\n            '<a href=\"' +\r\n            this.url +\r\n            '\" ' +\r\n            (this.checked ? 'target=\"_blank\"' : '') +\r\n            (this.title ? 'title=' + this.title : '') +\r\n            '>' +\r\n            this.content +\r\n            '</a>';\r\n        if (this.handler.recieveLinkHTML(html)) {\r\n            this.parent.close();\r\n        }\r\n    }\r\n}\r\n\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: æå¥è¡¨æ ¼ç»ä»¶\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:35:55 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { DomService } from '../service/DomService';\r\n\r\n@Component({\r\n    selector: 'app-table',\r\n    templateUrl: './ui-table.component.html'\r\n})\r\nexport class UITableComponent {\r\n    /** è¡æ° */\r\n    row = '2';\r\n    /** åæ° */\r\n    col = '2';\r\n    handler: any;\r\n    parent: any;\r\n    constructor(\r\n        private domService: DomService\r\n    ) {\r\n    }\r\n\r\n    emitTableHTML() {\r\n        const reg = /[1-9]{1,2}/;\r\n        if (!reg.test(this.row)) {\r\n            this.domService.tost({\r\n                text: 'è¡æ°ä¸åè¦æ±~'\r\n            });\r\n            return;\r\n        }\r\n        if (!reg.test(this.col)) {\r\n            this.domService.tost({\r\n                text: 'åæ°ä¸åè¦æ±~'\r\n            });\r\n            return;\r\n        }\r\n        let html = '<div><table style=\"width:100%\"><tbody>';\r\n        const r = Number(this.row);\r\n        const c = Number(this.col);\r\n        for (let i = 0; i < r; i++) {\r\n            let tr = '<tr>';\r\n            for (let j = 0; j < c; j++) {\r\n                tr += '<td>' /* + input */ + '</td>';\r\n            }\r\n            html += tr + '</tr>';\r\n        }\r\n        html += '</tbody></table></div><p><br/></p>';\r\n        if (this.handler.recieveTableHTML(html)) {\r\n            this.parent.close();\r\n        }\r\n    }\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: æå¥æä»¶ç»ä»¶\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:35:02 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\nimport { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { Radio } from '../_form/radio-group/radio-group';\r\nimport { DomService } from '../service/DomService';\r\nimport { TipComponent } from '../_alert/tip/tip';\r\nimport { AppZeditorComponent } from '../ng-zeditor.component';\r\n\r\n@Component({\r\n    selector: 'app-annex',\r\n    templateUrl: './ui-annex.component.html'\r\n})\r\nexport class UIAnnexComponent {\r\n    /** å¾çç±»å */\r\n    static IMAGEARR = ['image/gif', 'image/jpeg', 'image/jpg', 'image/png', 'image/svg'];\r\n    static AUDIOARR = ['audio/mp3', 'audio/ogg', 'audio/wav'];\r\n    static VIDEOARR = ['video/mp4', 'video/ogg', 'video/webm'];\r\n    url = 'https://';\r\n    width = '100%';\r\n    height = 'auto';\r\n    /** è·åç±»åå¯¹åºçåç§° */\r\n    typeName = 'å¾ç';\r\n    /** éæ¸²æinput file */\r\n    rebuild = true;\r\n    radioGroup: Radio[] = [{ value: 'image', text: 'å¾ç' }, { value: 'audio', text: 'é³é¢' }, { value: 'video', text: 'è§é¢' }];\r\n    @ViewChild('file', { static: false, read: ElementRef }) file: ElementRef;\r\n    // tslint:disable-next-line: variable-name\r\n    _type: 'image' | 'audio' | 'video' = 'image';\r\n    handler: any;\r\n    parent: any;\r\n    set type(v: 'image' | 'audio' | 'video') {\r\n        this._type = v;\r\n        this.typeName = { image: 'å¾ç', audio: 'é³é¢', video: 'è§é¢' }[v];\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n\r\n    constructor(\r\n        private domService: DomService\r\n    ) { }\r\n\r\n    /**\r\n     * ç¹å»æ¬å°ä¸ä¼ \r\n     */\r\n    selectFile() {\r\n        // éè¦åè®¾ç½®å®½åº¦åé«åº¦\r\n        const num = /^[1-9]\\d{1,3}(px|rem|em|vw|vh|%)?|auto|inherit|unset$/i;\r\n        if (!num.test(this.width + '') || !num.test(this.height + '')) {\r\n            this.domService.tost({\r\n                text: `ä¸ä¼ ${this.typeName}åè¯·å¡«ååéçé«åº¦åå®½åº¦~`\r\n            });\r\n            return;\r\n        }\r\n        const file = this.file.nativeElement;\r\n        const arr = {\r\n            image: UIAnnexComponent.IMAGEARR,\r\n            audio: UIAnnexComponent.AUDIOARR,\r\n            video: UIAnnexComponent.VIDEOARR,\r\n        }[this.type];\r\n        file.accept = arr.join(',');\r\n        if ('onchange' in file) {\r\n            file.onchange = this.fileChange;\r\n        } else {\r\n            file.onpropertychange = this.fileChange;\r\n        }\r\n        file.click();\r\n    }\r\n\r\n    /**\r\n     * éæ©æä»¶\r\n     */\r\n    fileChange = () => {\r\n        const files = this.file.nativeElement.files;\r\n        const file = files[0];\r\n        if (!files.length) { return; }\r\n        this.rebuild = false;\r\n        setTimeout(() => { this.rebuild = true; });\r\n        // ç¼è¾å¨å®ä¾\r\n        const handler: AppZeditorComponent = this.handler;\r\n        // è·åç¼è¾å¨banneréç½®åæ°\r\n        const option = handler.options$[this.type] || {};\r\n        // æ ç­¾\r\n        const tag = { image: 'IMG', audio: 'AUDIO', video: 'VIDEO' }[this.type];\r\n        // å¤æ­æä»¶æ¯å¦è¶è¿æ°é\r\n        if (handler.pannel.getElementsByTagName(tag).length >= (option.count || 1)) {\r\n            this.domService.tost({\r\n                text: `${this.typeName}å·²è¶åºæå¤§æ°é`\r\n            });\r\n            return;\r\n        }\r\n        // å¤æ­æä»¶æ¯å¦éè½¬æbase64\r\n        const base64size = option.base64 || 0;\r\n        if (base64size && file.size <= base64size) {\r\n            // è½¬æbase64\r\n            const fr = new FileReader();\r\n            fr.readAsDataURL(file);\r\n            fr.onload = (event: any) => {\r\n                if (handler.recieveLocalFileHTML(this.getFileHTML(event.target.result))) {\r\n                    this.parent.close();\r\n                }\r\n            };\r\n        } else {\r\n            // äº¤ç»å¤é¨è¿è¡å¤ç\r\n            const tip: TipComponent = this.domService.tost({\r\n                text: 'ä¸ä¼ ä¸­~',\r\n                duration: -1\r\n            });\r\n            // tslint:disable-next-line: no-unused-expression\r\n            handler.emitUploadFile && handler.emitUploadFile(this.type, file, this.getFileHTML, (isSuccess: boolean, t?: number) => {\r\n                if (isSuccess) { // ä¸ä¼ æå\r\n                    tip.close();\r\n                    this.parent.close();\r\n                    return;\r\n                }\r\n                if (!t) { // ä¸ä¼ å¤±è´¥\r\n                    tip.close();\r\n                    this.parent.close();\r\n                    tip.open({ text: 'ä¸ä¼ å¤±è´¥~' });\r\n                    return;\r\n                }\r\n                // ä¸ä¼ è¶æ¶\r\n                const timer = setTimeout(() => {\r\n                    clearTimeout(timer);\r\n                    tip.close();\r\n                    this.parent.close();\r\n                    tip.open({ text: 'ä¸ä¼ è¶æ¶~' });\r\n                }, t);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * æå¥å¤é¾\r\n     */\r\n    insertOutLink() {\r\n        const hasperc = /^[1-9]\\d{1,3}(px|rem|em|vw|vh|%)?$/i;\r\n        if (!hasperc.test(this.width)) {\r\n            this.domService.tost({\r\n                text: 'è¯·å¡«ååéçå®½åº¦~'\r\n            });\r\n            return;\r\n        }\r\n        if (!hasperc.test(this.height)) {\r\n            this.domService.tost({\r\n                text: 'è¯·å¡«ååéçé«åº¦~'\r\n            });\r\n            return;\r\n        }\r\n        if (!/^(\\/\\/|https?:)\\/\\/.+/.test(this.url)) {\r\n            this.domService.tost({\r\n                text: 'é¾æ¥å°åä¸è§è'\r\n            });\r\n            return;\r\n        }\r\n        const html = this.getFileHTML(this.url);\r\n        if (this.handler.recieveFileLinkHTML(html)) {\r\n            this.parent.close();\r\n            this.parent = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ä¼ å¥srcå¹¶æ ¹æ®ç±»åè·åæä»¶html\r\n     */\r\n    getFileHTML = (src: string) => {\r\n        let html = '';\r\n        switch (this.type) {\r\n            case 'image':\r\n                html = this.getImageHTML(src);\r\n                break;\r\n            case 'audio':\r\n                html = this.getAudioHTML(src);\r\n                break;\r\n            case 'video':\r\n                html = this.getVideoHTML(src);\r\n                break;\r\n        }\r\n        return html;\r\n    }\r\n\r\n    /**\r\n     * è·åæå¥å¾ççHTML\r\n     * @param src urlæbase64\r\n     */\r\n    getImageHTML(src: string) {\r\n        return (\r\n            '<p>' +\r\n            '<img src=\"' +\r\n            src +\r\n            '\" style=\"height:' +\r\n            this.height +\r\n            ';width:' +\r\n            this.width +\r\n            ';object-fit:cover;\" />' +\r\n            '</p><p><br/></p>'\r\n        );\r\n    }\r\n    /**\r\n     * è·åæå¥é³é¢çHTML\r\n     * @param src url\r\n     */\r\n    getAudioHTML(src: string) {\r\n        const arr = UIAnnexComponent.AUDIOARR;\r\n        // tslint:disable-next-line: max-line-length\r\n        let html = '<p><audio controls style=\"display:inline-block;height:' + this.height + ';width:' + this.width + ';\">';\r\n        for (let i = 0, len = arr.length; i < len; i++) {\r\n            html += '<source src=\"' + src + '\" type=\"' + arr[i] + '\">';\r\n        }\r\n        html += 'æ¨çæµè§å¨ä¸æ¯æAudioæ ç­¾ã';\r\n        html += '</audio>&#8205;&zwj;</p><p><br/></p>';\r\n        return html;\r\n    }\r\n\r\n    /**\r\n     * è·åæå¥è§é¢çHTML\r\n     */\r\n    getVideoHTML(src: string) {\r\n        const arr = UIAnnexComponent.VIDEOARR;\r\n        // tslint:disable-next-line: max-line-length\r\n        let html = '<p><video controls style=\"display:inline-block;height:' + this.height + ';width:' + this.width + ';\">';\r\n        for (let i = 0, len = arr.length; i < len; i++) {\r\n            html += '<source src=\"' + src + '\" type=\"' + arr[i] + '\">';\r\n        }\r\n        html += 'æ¨çæµè§å¨ä¸æ¯æVideoæ ç­¾ã';\r\n        html += '</video>&#8205;&zwj;</p><p><br/></p>';\r\n        return html;\r\n    }\r\n\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: å¤éæ¡ç»ä»¶\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:29:21 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport { Component, Input, forwardRef, OnInit } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-checkbox',\r\n    templateUrl: './checkbox.component.html',\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => CheckBoxComponent),\r\n        multi: true,\r\n    }]\r\n})\r\n\r\nexport class CheckBoxComponent implements ControlValueAccessor, OnInit {\r\n\r\n    @Input() id: string = '';\r\n    @Input() disabled: boolean = false;\r\n    @Input() value: string | number | boolean = '';\r\n    @Input() checkBoxGroup: Checkbox[];\r\n    model: boolean | any[];\r\n    onChange: (v: boolean | any[]) => void;\r\n    onTouched: () => void;\r\n\r\n    constructor() {}\r\n\r\n    ngOnInit(): void {\r\n        if (!this.checkBoxGroup) {\r\n            return;\r\n        }\r\n        this.model = [];\r\n        this.checkBoxGroup.forEach((ck: Checkbox) => {\r\n            if (ck.checked) {\r\n                (this.model as any).push(ck.value);\r\n            }\r\n        });\r\n    }\r\n    writeValue(obj: any): void {\r\n        this.model = obj;\r\n    }\r\n    registerOnChange(fn: any): void {\r\n        this.onChange = fn;\r\n    }\r\n    registerOnTouched(fn: any): void {\r\n        this.onTouched = fn;\r\n    }\r\n    myOnChange(v: any) {\r\n        if (!(this.model instanceof Array)) { // éæ°ç»ï¼è®¤ä¸ºæ¯å¸å°ç±»åï¼\r\n            this.onChange(v);\r\n            return;\r\n        }\r\n        const index = this.model.indexOf(v);\r\n        if (index > -1) {\r\n            this.model.splice(index, 1);\r\n        } else {\r\n            this.model.push(v);\r\n        }\r\n    }\r\n}\r\n\r\n/** åä¸ªcheckboxçéç½® */\r\nexport interface Checkbox {\r\n    /** value */\r\n    value: any;\r\n    /** æ¯å¦éä¸­ */\r\n    checked: any;\r\n    /** disabled */\r\n    disabled?: boolean;\r\n    /** æè¿° */\r\n    text?: string;\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: åéç»ç»ä»¶\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:29:49 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\nimport { Component, Input, forwardRef } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n@Component({\r\n    selector: 'app-radio-group',\r\n    templateUrl: './radio-group.component.html',\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => RadioGroupComponent),\r\n        multi: true,\r\n    }]\r\n})\r\nexport class RadioGroupComponent implements ControlValueAccessor {\r\n    @Input() radioGroup: Radio[] = [];\r\n    model: string | number | boolean;\r\n    onChange: (value: string) => void;\r\n    onTouched: () => void;\r\n\r\n    idPrefix() {\r\n        return 'z' + Math.random().toString().slice(2, 10);\r\n    }\r\n\r\n    constructor() { }\r\n\r\n    writeValue(obj: any): void {\r\n        this.model = obj;\r\n    }\r\n    registerOnChange(fn: any): void {\r\n        this.onChange = fn;\r\n    }\r\n    registerOnTouched(fn: any): void {\r\n        this.onTouched = fn;\r\n    }\r\n\r\n}\r\n\r\n/** åä¸ªradioçéç½® */\r\nexport interface Radio {\r\n    /** value */\r\n    value: any;\r\n    /** disabled */\r\n    disabled?: boolean;\r\n    /** æè¿° */\r\n    text?: string;\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: éç¨å·¥å·ç±»\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:36:21 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\nexport default class CommonUtil {\r\n    /**\r\n     * æ ¹æ®åç´ idæ¾åç´ \r\n     * @param id åç´ id\r\n     */\r\n    static id(id: string) {\r\n        return document.getElementById(id);\r\n    }\r\n\r\n    /**\r\n     * å¤æ­æ¯å¦ie\r\n     */\r\n    static isIE() {\r\n        return !!((window as any).ActiveXObject || 'ActiveXObject' in window);\r\n    }\r\n\r\n    /**\r\n     * æ¾ä¸ä¸ä¸ªèç¹\r\n     * @param node èç¹\r\n     */\r\n    static preSibling(node: Node): Node {\r\n        let pre = node;\r\n        // tslint:disable-next-line: no-conditional-assignment curly\r\n        while ((pre = pre.previousSibling) && pre.nodeType !== 1);\r\n        return pre;\r\n    }\r\n\r\n    /**\r\n     * æ¾åç´ çææå­èç¹\r\n     * @param p ç¶åç´ \r\n     */\r\n    static getAllChilds(p: HTMLElement, arr: HTMLElement[] = []): HTMLElement[] {\r\n        arr.push(p);\r\n        // tslint:disable-next-line: curly\r\n        if (!p.children || !p.children.length) return arr;\r\n        Array.prototype.forEach.call(p.children, (child: HTMLElement) => {\r\n            arr = this.getAllChilds(child, arr);\r\n        });\r\n        return arr;\r\n    }\r\n\r\n    /**\r\n     * å¤æ­pæ¯å¦åå«c\r\n     * @param p åç´ \r\n     * @param c åç´ \r\n     */\r\n    static contains(p: HTMLElement, c: HTMLElement): boolean {\r\n        if (p.contains) { // firefoxä¸æ¯æ\r\n            return p.contains(c);\r\n        }\r\n        // æ¾pçææå­èç¹\r\n        const childs = this.getAllChilds(p);\r\n        for (let i = 0, len = childs.length; i < len; i++) {\r\n            // tslint:disable-next-line: curly\r\n            if (childs[i] === c) return true;\r\n        }\r\n        // tslint:disable-next-line: curly\r\n        if (p === c) return true;\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * ä»ä½å±æ¬¡å¾é«å±æ¬¡æ¾ç¬¬indexä¸ªç¶èç¹ï¼æ²¡æåè¿ånull\r\n     * @param  el ç®æ åç´ \r\n     * @param  index ç¬¬indexä¸ªç¶åç´ \r\n     */\r\n    static parent(el: HTMLElement, index: number = 1) {\r\n        let count = index + 1;\r\n        while (el && --count) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            el = (<any> el.parentNode);\r\n        }\r\n        return el;\r\n    }\r\n    /**\r\n     * rgbé¢è²ä¸²è½¬ä»¥#å¼å¤´ç16è¿å¶é¢è²ä¸²\r\n     * @param str rgbé¢è²ä¸²\r\n     */\r\n    static rgbToHex(str: string) {\r\n        if (!str) { return ''; }\r\n        if (str.charAt(0) === '#') { return str; }\r\n        if (str.indexOf('rgb(') < 0) { return ''; }\r\n        str = str.slice(4, -1);\r\n        const arr = str.split(',');\r\n        let str$ = '#';\r\n        arr.forEach((num: string) => {\r\n            let dimStr = Number(num).toString(16);\r\n            dimStr = dimStr.length < 2 ? '0' + dimStr : dimStr;\r\n            str$ += dimStr;\r\n        });\r\n        return str$;\r\n    }\r\n\r\n    /**\r\n     * å°å¤ç»´æ°ç»åä¸ºä¸ç»´æ°ç»\r\n     * @param arr å¤ç»´æ°ç»\r\n     * @param box å®¹å¨\r\n     */\r\n    static flat(arr: Array<any>, box?: Array<any>) {\r\n        // tslint:disable-next-line: curly\r\n        if (!box) box = [];\r\n        for (let i = 0, len = arr.length; i < len; i++) {\r\n            const e = arr[i];\r\n            if (e instanceof Array) {\r\n                this.flat(e, box);\r\n                continue;\r\n            }\r\n            box.push(e);\r\n        }\r\n        return box;\r\n    }\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: åæ å·¥å·ç±»\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:36:44 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\n/** æ§æ åRangeå¯¹è±¡ï¼åªååºå¸¸ç¨çä¸äºå±æ§åæ¹æ³ï¼ */\r\ninterface TextRange {\r\n    htmlText: string;\r\n    text: string;\r\n    pasteHTML(html: string): void;\r\n    collapse(isEnd: boolean): void;\r\n    move(type: 'charactor', offset: number): void;\r\n    moveEnd(type: 'charactor', offset: number): void;\r\n    moveStart(type: 'charactor', offset: number): void;\r\n    moveToElementText(node: HTMLElement | Node): void;\r\n    select(): void;\r\n    parentElement(): HTMLElement;\r\n}\r\n/**\r\n * éåºåèå´å·¥å·ç±»\r\n */\r\nexport default class CursorUtil {\r\n\r\n    /**\r\n     * è·åéåº\r\n     * @param  elem? è¦èç¦çåç´ ï¼å¦æå·²èç¦å¯ä¸ä¼ \r\n     * @returns Selection | TextRange\r\n     */\r\n    static getSelection(elem?: HTMLElement): Selection | TextRange {\r\n        let selection;\r\n        // tslint:disable-next-line: curly\r\n        if (elem && document.activeElement !== elem) elem.focus();\r\n        if (window.getSelection) {\r\n            selection = window.getSelection();\r\n        } else if (document.getSelection) {\r\n            selection = document.getSelection();\r\n        } else {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            selection = (<any> document).body.createRange();\r\n        }\r\n        return selection;\r\n    }\r\n\r\n\r\n    /**\r\n     * è®¾ç½®ç¬¬ä¸ä¸ªèå´\r\n     * @param  range èå´\r\n     */\r\n    static setFirstRange(range: Range | TextRange) {\r\n        const selection = this.getSelection();\r\n        // æ°æ å\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if ((<any> selection).addRange) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            (<Selection> selection).removeAllRanges();\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            (<Selection> selection).addRange(<Range> range);\r\n            return;\r\n        }\r\n        // æ§æ å\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> selection) = <TextRange> range;\r\n    }\r\n\r\n    /**\r\n     * è·åèå´\r\n     * @param  index èå´ä¸æ \r\n     * @param  elem? è¦èç¦çåç´ ï¼å¦æå·²èç¦å¯ä¸ä¼ \r\n     * @returns Range | TextRange \r\n     */\r\n    static getRange(index: number, elem?: HTMLElement): Range | TextRange {\r\n        const selection = this.getSelection(elem);\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if ((<Selection> selection).getRangeAt && (<Selection> selection).rangeCount) { // æ°æ å\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            return (<Selection> selection).getRangeAt(index);\r\n        } else { // æ§æ å\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            return (<TextRange> selection);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * éä¸­åç´ elemçåå®¹\r\n     */\r\n    static selectSelectionElementChilds(elem: HTMLElement) {\r\n        // tslint:disable-next-line: curly\r\n        if (!elem) return;\r\n        const selection = this.getSelection();\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if ((<any> selection).selectAllChildren) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            (<Selection> selection).selectAllChildren(elem);\r\n            return;\r\n        }\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> selection).moveToElementText(elem);\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> selection).select();\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®éåºå°æä¸ªåç´ ï¼å¹¶æå \r\n     * @param  elem åç´ ï¼è¯¥åç´ å¯ä»¥æ¯ä¸å¯èç¦çåç´ \r\n     * @param isStart æ¯å¦æå å°å¼å¤´\r\n     */\r\n    static setSelectionToElement(elem: HTMLElement, isStart: boolean) {\r\n        this.selectSelectionElementChilds(elem);\r\n        const selection = this.getSelection();\r\n        // æ°æ å\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if (isStart && (<any> selection).collapseToStart) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            (<Selection> selection).collapseToStart();\r\n            return;\r\n        }\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if (!isStart && (<any> selection).collapseToEnd) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            (<Selection> selection).collapseToEnd();\r\n            return;\r\n        }\r\n        // æ§æ å\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> selection).collapse(!isStart);\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> selection).select();\r\n    }\r\n\r\n    /**\r\n     * è·åéåºçéä¸­çææ¬\r\n     * @returns string éåºææ¬\r\n     */\r\n    static getSelectionText(): string {\r\n        const selection = this.getSelection();\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        return (<Selection> selection).toString() || (<TextRange> selection).text;\r\n    }\r\n    /**\r\n     * è·åä¸æ ä¸ºindexçèå´ææ¬\r\n     * @param  index ? èå´ä¸æ ï¼æ§æ åå°±åªæä¸ä¸ª\r\n     * @returns string\r\n     */\r\n    static getRangeText(index: number = 0): string {\r\n        const range = this.getRange(index);\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        return (<Range> range).toString() || (<TextRange> range).text;\r\n    }\r\n\r\n    /**\r\n     * è·årangeèµ·å§ä½ç½®åç»æä½ç½®çææµçç¶åç´ \r\n     * \r\n     * æ¯å¦ï¼\\<p\\>(range-start)123(range-end)\\</p\\>çå¬å±ç¶åç´ ä¸ºtextï¼èä¸æ¯pæ ç­¾\r\n     * @param  index? å¯éï¼é»è®¤ç¬¬ä¸ä¸ªï¼æ§æ åå°±1ä¸ª\r\n     * @returns Node\r\n     */\r\n    static getRangeCommonParent(index: number = 0): Node | undefined {\r\n        const range = this.getRange(index);\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if ((<any> range).commonAncestorContainer) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            return (<Range> range).commonAncestorContainer;\r\n        }\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if ((<any> range).parentElement) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            return (<TextRange> range).parentElement();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å é¤éä¸­åå®¹\r\n     * @param  index? rangeå¯¹è±¡ä¸æ ï¼é»è®¤0\r\n     */\r\n    static deleteRangeContent(index: number = 0) {\r\n        const range = this.getRange(index);\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if ((<any> range).deleteContents) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            (<Range> range).deleteContents();\r\n            return;\r\n        }\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> range).pasteHTML('');\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> range).select();\r\n    }\r\n\r\n    /**\r\n     * æå¥èç¹\r\n     * @param  node èç¹\r\n     * @param  index? rangeå¯¹è±¡ä¸æ ï¼é»è®¤0\r\n     */\r\n    static insertNode(node: Node, index: number = 0) {\r\n        this.deleteRangeContent(index);\r\n        const range = this.getRange(index);\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if ((<any> range).insertNode) {\r\n            // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n            (<Range> range).insertNode(node);\r\n            return;\r\n        }\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> range).pasteHTML((<HTMLElement> node).outerHTML);\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        (<TextRange> range).select();\r\n    }\r\n}\r\n","/*\r\n * Created Date: Friday, August 21st 2020, 10:32:15 pm\r\n * Author: æ¨æµã®ççº¸\r\n * ---------------------------------------------------\r\n * Description: ç¼è¾å¨ç»ä»¶\r\n * ---------------------------------------------------\r\n * Last Modified: Saturday August 22nd 2020 11:37:23 am\r\n * Modified By: æ¨æµã®ççº¸\r\n * Contact: 1029512956@qq.com\r\n * Copyright (c) 2020 ZXWORK\r\n */\r\n\r\n// tslint:disable-next-line: max-line-length\r\nimport { Component, Input, ViewChild, OnInit, ElementRef, Renderer2, Output, EventEmitter, forwardRef, ViewEncapsulation, ChangeDetectionStrategy } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { WindowOptions } from './_alert/window/window';   // çªä½å¼¹çª\r\nimport { UILinkComponent } from './ui-link/ui-link';      // è¶é¾æ¥UIç»ä»¶\r\nimport { UITableComponent } from './ui-table/ui-table';   // è¡¨æ ¼UIç»ä»¶\r\nimport { UIAnnexComponent } from './ui-annex/ui-annex';   // éä»¶UIç»ä»¶\r\nimport { DomService } from './service/DomService';        // domæä¾å\r\nimport CommonUtil from './util/CommonUtil';               // domå·¥å·ç±»\r\nimport CursorUtil from './util/CursorUtil';               // åæ å·¥å·ç±»\r\n\r\n/** ç¼è¾å¨éç½®åæ° */\r\ninterface Options {\r\n    /** ç¼è¾åå®¹çæå¤§å­èæ° */\r\n    maxsize: number;\r\n    /** ä¸ä¼ è¶æ¶ ms */\r\n    timeout: number;\r\n    /** ä¸ä¼ å¾ççéç½®åæ° */\r\n    image: {\r\n        /** ä¸ä¼ çæå¤§å¾çæ°é */\r\n        count: number;\r\n        /** å°äºæå®å­èæ°ä¼è¿è¡base64ç¼ç  */\r\n        base64: number;\r\n    };\r\n    /** ä¸ä¼ è§é¢çéç½®åæ° */\r\n    video: {\r\n        /** ä¸ä¼ çæå¤§è§é¢æ°é */\r\n        count: number;\r\n    };\r\n    /** ä¸ä¼ é³é¢çéç½®åæ° */\r\n    music: {\r\n        /** ä¸ä¼ çæå¤§é³é¢æ°é */\r\n        count: number;\r\n    };\r\n}\r\n\r\n@Component({\r\n    selector: 'app-zeditor',\r\n    styleUrls: ['./ng-zeditor.component.scss'],\r\n    templateUrl: './ng-zeditor.component.html',\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => AppZeditorComponent),\r\n        multi: true\r\n    }],\r\n    // æ²¡æShadow Domï¼æ ·å¼æ²¡æå°è£ï¼å¨å±å¯ä»¥ä½¿ç¨ã\r\n    encapsulation: ViewEncapsulation.None,\r\n    // åªä¼å¨inputå¼ç¨å¼æ¹åæ¶æå»ååæ´æ£æµ\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AppZeditorComponent implements ControlValueAccessor, OnInit {\r\n    @Input()\r\n    set options(v: any) {\r\n        Object.assign(this.options$, v);\r\n    }\r\n    /** ç¼è¾æ¡ */\r\n    get header(): HTMLElement {\r\n        return this.headerRef.nativeElement;\r\n    }\r\n    /** ç¼è¾å¨ */\r\n    get editor(): HTMLElement {\r\n        return this.editorRef.nativeElement;\r\n    }\r\n    /** ç¼è¾é¢æ¿ */\r\n    get pannel(): HTMLElement {\r\n        return this.pannelRef.nativeElement;\r\n    }\r\n    get footer(): HTMLElement {\r\n        return (this.footerRef || { nativeElement: { offsetHeight: 0 } }).nativeElement;\r\n    }\r\n    get fontNameEl(): HTMLElement {\r\n        return this.fontNameRef.nativeElement;\r\n    }\r\n    get fontSizeEl(): HTMLElement {\r\n        return this.fontSizeRef.nativeElement;\r\n    }\r\n    get formatBlockEl(): HTMLElement {\r\n        return this.formatBlockRef.nativeElement;\r\n    }\r\n    get foreColorEl(): HTMLElement {\r\n        return this.foreColorRef.nativeElement;\r\n    }\r\n    get backColorEl(): HTMLElement {\r\n        return this.backColorRef.nativeElement;\r\n    }\r\n    get codeEl(): HTMLElement {\r\n        return this.codeRef.nativeElement;\r\n    }\r\n\r\n    constructor(\r\n        private render2: Renderer2,\r\n        private domService: DomService\r\n    ) {\r\n    }\r\n    /** é»è®¤æ ¼å¼ */\r\n    static FORMAT = {\r\n        isBold: false,\r\n        isItalic: false,\r\n        isUnderline: false,\r\n        isStrikeThrough: false,\r\n        scriptActive: '',\r\n        formatBlock: 'p',\r\n        foreColor: '#000000',\r\n        backColor: '#ffffff',\r\n        justifyActive: 'justifyLeft',\r\n        fontSize: { key: 'small', value: '2', value$: '' },\r\n        fontFamily: { key: 'å¾®è½¯éé»', value: 'Microsoft Yahei' }\r\n    };\r\n    vhtml$: string = '<p>è¯·è¾å¥åå®¹~</p>';\r\n    /** ä¼ å¥çhtml */\r\n    @Input()\r\n    set vhtml(v: string) {\r\n        this.vhtml$ = v;\r\n        this.range = null;\r\n        this.inCode = false;\r\n    }\r\n    get vhtml() {\r\n        return this.vhtml$;\r\n    }\r\n    // tslint:disable-next-line: no-output-on-prefix\r\n    @Output() onInput: EventEmitter<string> = new EventEmitter<string>();\r\n    /** æ¯å¦ææé® */\r\n    @Input() hasBtn = false;\r\n    @Output() recieveContent: EventEmitter<any> = new EventEmitter<any>();\r\n    disabled: boolean;\r\n    /** åæ°éç½® */\r\n    options$: any = { maxsize: 65535, timeout: 10000, image: { count: 5, base64: 60000 }, audio: { count: 1 }, video: { count: 1 } };\r\n    /** ä¸»é¢ */\r\n    @Input() theme: 'r' | 'p' | 'b' | 'g' = 'g';\r\n    /** ä¸ä¼ æä»¶ */\r\n    @Output() uploadFile: EventEmitter<{}> = new EventEmitter<{}>();\r\n    /** ç¼è¾æ¡è§å¾å¼ç¨ */\r\n    @ViewChild('headerRef', { read: ElementRef, static: true }) headerRef: ElementRef;\r\n    /** ç¼è¾å¨æ´ä½è§å¾å¼ç¨ */\r\n    @ViewChild('editorRef', { read: ElementRef, static: true }) editorRef: ElementRef;\r\n    /** pannelè§å¾å¼ç¨ */\r\n    @ViewChild('pannelRef', { read: ElementRef, static: true }) pannelRef: ElementRef;\r\n    @ViewChild('footerRef', { read: ElementRef, static: true }) footerRef: ElementRef;\r\n    @ViewChild('fontNameRef', { read: ElementRef, static: true }) fontNameRef: ElementRef;\r\n    @ViewChild('fontSizeRef', { read: ElementRef, static: true }) fontSizeRef: ElementRef;\r\n    @ViewChild('formatBlockRef', { read: ElementRef, static: true }) formatBlockRef: ElementRef;\r\n    @ViewChild('foreColorRef', { read: ElementRef, static: true }) foreColorRef: ElementRef;\r\n    @ViewChild('backColorRef', { read: ElementRef, static: true }) backColorRef: ElementRef;\r\n    @ViewChild('codeRef', { read: ElementRef, static: true }) codeRef: ElementRef;\r\n    /** å­ä½æ ·å¼ */\r\n    // tslint:disable-next-line: max-line-length\r\n    fontFamilys = [{ key: 'arial', value: 'arial' }, { key: 'å¾®è½¯éé»', value: 'Microsoft Yahei' }, { key: 'å®ä½', value: 'SimSun' }, { key: 'é»ä½', value: 'SimHei' }, { key: 'æ¥·ä½', value: 'KaiTi' }, { key: 'å®ä½', value: 'SimSun' }, { key: 'æ°å®ä½', value: 'NSimSun' }, { key: 'ä»¿å®', value: 'FangSong' }, { key: 'å¾®è½¯æ­£é»ä½', value: 'Microsoft JhengHei' }, { key: 'åæç¥ç', value: 'STHupo' }, { key: 'åæå½©äº', value: 'STCaiyun' }, { key: 'å¹¼å', value: 'YouYuan' }, { key: 'åæè¡æ¥·', value: 'STXingkai' }];\r\n    /** ææ¬æ ¼å¼ */\r\n    // tslint:disable-next-line: max-line-length\r\n    formatBlocks = [{ key: 'p', value: '<p data-index=\"0\">p</p>' }, { key: 'h6', value: '<h6 data-index=\"1\">h6</h6>' }, { key: 'h5', value: '<h5 data-index=\"2\">h5</h5>' }, { key: 'h4', value: '<h4 data-index=\"3\">h4</h4>' }, { key: 'h3', value: '<h3 data-index=\"4\">h3</h3>' }, { key: 'h2', value: '<h2 data-index=\"5\">h2</h2>' }, { key: 'h1', value: '<h1 data-index=\"6\">h1</h1>' }];\r\n    /** é¢è² */\r\n    // tslint:disable-next-line: max-line-length\r\n    colors = [['#ffffff', '#000000', '#eeece1', '#1f497d', '#4f81bd', '#c0504d', '#9bbb59', '#8064a2', '#4bacc6', '#f79646'], ['#f2f2f2', '#7f7f7f', '#ddd9c3', '#c6d9f0', '#dbe5f1', '#f2dcdb', '#ebf1dd', '#e5e0ec', '#dbeef3', '#fdeada'], ['#d8d8d8', '#595959', '#c4bd97', '#8db3e2', '#b8cce4', '#e5b9b7', '#d7e3bc', '#ccc1d9', '#b7dde8', '#fbd5b5'], ['#bfbfbf', '#3f3f3f', '#938953', '#548dd4', '#95b3d7', '#d99694', '#c3d69b', '#b2a2c7', '#92cddc', '#fac08f'], ['#a5a5a5', '#262626', '#494429', '#17365d', '#366092', '#953734', '#76923c', '#5f497a', '#31859b', '#e36c09'], ['#7f7f7f', '#0c0c0c', '#1d1b10', '#0f243e', '#244061', '#632423', '#4f6128', '#3f3151', '#205867', '#974806'], ['#c00000', '#ff0000', '#ffc000', '#ffff00', '#92d050', '#00b050', '#00b0f0', '#0070c0', '#002060', '#7030a0']];\r\n    /** å­ä½å¤§å° */\r\n    // tslint:disable-next-line: max-line-length\r\n    fontSizes = [{ key: 'x-small', value: '1', value$: 10 / 16 }, { key: 'small', value: '2', value$: 12 / 16 }, { key: 'medium', value: '3', value$: 16 / 16 }, { key: 'large', value: '4', value$: 18 / 16 }, { key: 'x-large', value: '5', value$: 24 / 16 }, { key: 'xx-large', value: '6', value$: 32 / 16 }, { key: 'xxx-large', value: '7', value$: 48 / 16 }];\r\n    /** code */\r\n    codes = ['Html', 'Css', 'Javascript', 'TypeScript', 'Sass', 'Java', 'Xml', 'Sql', 'Shell'];\r\n    /** éä¸­çå­æ · */\r\n    fontFamily: any = { key: 'å¾®è½¯éé»', value: 'Microsoft Yahei' };\r\n    /** éä¸­çå­å· */\r\n    fontSize: any = { key: 'small', value: 2, value$: 12 / 16 }; // é»è®¤.75rem;\r\n    /** ææ¬æ ¼å¼ */\r\n    formatBlock = 'p';\r\n    /** å­ä½é¢è² */\r\n    foreColor = 'black';\r\n    /** é«äº®è² */\r\n    backColor = 'white';\r\n    /** å½åä»£ç è¯­è¨ */\r\n    code = 'Javascript';\r\n    /** æ¯å¦æå¼å­æ ·é¢æ¿ */\r\n    switchFontFamilyPannel = false;\r\n    /** æ¯å¦æå¼å­å·é¢æ¿ */\r\n    switchFontSizePannel = false;\r\n    /** æ¯å¦æå¼ææ¬æ ¼å¼é¢æ¿ */\r\n    switchFormatBlockPannel = false;\r\n    /** æ¯å¦æå¼å­ä½é¢è²é¢æ¿ */\r\n    switchForeColorPannel = false;\r\n    /** æ¯å¦æå¼èæ¯è²é¢æ¿ */\r\n    switchBackColorPannel = false;\r\n    /** æ¯å¦æå¼ä»£ç è¯­è¨é¢æ¿ */\r\n    switchCodePannel = false;\r\n    /** æ¯å¦å ç² */\r\n    isBold = false;\r\n    /** æ¯å¦æä½ */\r\n    isItalic = false;\r\n    /** æ¯å¦ä¸åçº¿ */\r\n    isUnderline = false;\r\n    /** æ¯å¦å é¤çº¿ */\r\n    isStrikeThrough = false;\r\n    /** é»è®¤æ ä¸ä¸æ  */\r\n    scriptActive = '';\r\n    /** é»è®¤å·¦å¯¹é½ */\r\n    justifyActive = 'justifyLeft';\r\n    /** æ¯å¦å¤äºç¼è¾ç¶æä¸­ */\r\n    isInEditStatus = false;\r\n    /** è®°ä½çrange */\r\n    range: any;\r\n    /** æ¯å¦å¨å±, é»è®¤false */\r\n    full = false;\r\n    /** ç¶åç´  */\r\n    parent!: HTMLElement;\r\n    /** æ¯å¦å¨ä»£ç åº, é»è®¤false */\r\n    inCode = false;\r\n    onChange: (html: string) => void = () => undefined;\r\n    onTouched: () => void = () => undefined;\r\n    writeValue(obj: any): void {\r\n        if (obj !== undefined) {\r\n            this.vhtml = obj;\r\n        }\r\n    }\r\n    registerOnChange(fn: any): void {\r\n        this.onChange = fn;\r\n    }\r\n    registerOnTouched(fn: any): void {\r\n        this.onTouched = fn;\r\n    }\r\n    setDisabledState(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n    }\r\n    ngOnInit(): void {\r\n        this.initFormatData();\r\n        this.parent = this.render2.parentNode(this.editor);\r\n    }\r\n    /**\r\n     * åå§åé»è®¤æ ¼å¼\r\n     */\r\n    initFormatData() {\r\n        Object.assign(this, AppZeditorComponent.FORMAT);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®å­æ ·\r\n     * @param e äºä»¶\r\n     */\r\n    setFontName(e: any) {\r\n        this.ensureFocus(e);\r\n        const t = e.target;\r\n        const index = t.getAttribute('data-index');\r\n        this.switchFontFamilyPannel = !this.switchFontFamilyPannel;\r\n        if (index === null || index === undefined) { return; }\r\n        this.fontFamily = this.fontFamilys[index * 1];\r\n        this.cmd('fontName', false, this.fontFamily.value);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®å­å·\r\n     */\r\n    setFontSize(e: any) {\r\n        this.ensureFocus(e);\r\n        const t = e.target;\r\n        const index = t.getAttribute('data-index');\r\n        this.switchFontSizePannel = !this.switchFontSizePannel;\r\n        if (index === null || index === undefined) { return; }\r\n        const fontSize = this.fontSizes[index * 1];\r\n        this.fontSize = fontSize;\r\n        this.cmd('fontSize', false, fontSize.value);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®ææ¬æ ¼å¼\r\n     * @param e äºä»¶\r\n     */\r\n    setFormatBlock(e: any) {\r\n        this.ensureFocus(e);\r\n        const t = e.target;\r\n        const index = t.getAttribute('data-index');\r\n        this.switchFormatBlockPannel = !this.switchFormatBlockPannel;\r\n        if (index === null || index === undefined) { return; }\r\n        const formatBlock = this.formatBlocks[index * 1];\r\n        this.formatBlock = formatBlock.key;\r\n        this.cmd('formatBlock', false, '<' + this.formatBlock + '>');\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®åæ¯è²\r\n     * @param e äºä»¶\r\n     */\r\n    setForeColor(e: any) {\r\n        this.ensureFocus(e);\r\n        const t = e.target;\r\n        const x = t.getAttribute('data-dim1');\r\n        const y = t.getAttribute('data-dim2');\r\n        this.switchForeColorPannel = !this.switchForeColorPannel;\r\n        if (x === null || y == null) { return; }\r\n        this.foreColor = this.colors[x][y];\r\n        this.cmd('foreColor', false, this.foreColor);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®èæ¯è²(é«äº®è²)\r\n     * @param e äºä»¶\r\n     */\r\n    setBackColor(e: any) {\r\n        this.ensureFocus(e);\r\n        const t = e.target;\r\n        const x = t.getAttribute('data-dim1');\r\n        const y = t.getAttribute('data-dim2');\r\n        this.switchBackColorPannel = !this.switchBackColorPannel;\r\n        if (x === null || y == null) { return; }\r\n        this.backColor = this.colors[x][y];\r\n        this.cmd('backColor', false, this.backColor);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®ä»£ç è¯­è¨\r\n     * @param e äºä»¶\r\n     */\r\n    insertCode(e: any) {\r\n        this.ensureFocus(e);\r\n        this.switchCodePannel = !this.switchCodePannel;\r\n        const index = e.target.getAttribute('data-index');\r\n        if (index === null) { return; }\r\n        this.code = this.codes[index];\r\n        const code = this.code.toLowerCase();\r\n        const id = (Math.random() + '').slice(2, 8);\r\n        const html = `<pre style=\"white-space:pre;\" title=\"ä»£ç åº\"><code class=\"${code}\"><p id=\"${id}\"><br/></p></code></pre><p><br/></p>`;\r\n        this.cmd('insertHTML', false, html);\r\n        // æå¥htmlåï¼å°åæ ç§»è³ä»£ç åºçpæ ç­¾ä¸­\r\n        CursorUtil.setSelectionToElement((CommonUtil.id(id)), true);\r\n        this.detectCode();\r\n    }\r\n\r\n    /**\r\n     * è¡åæ¢è¡ï¼shift+enterï¼\r\n     * @param e äºä»¶\r\n     */\r\n    insertBrOnReturn(e: any) {\r\n        this.ensureFocus(e);\r\n        if (!this.isSupport('insertBrOnReturn')) {\r\n            this.cmd('insertHTML', false, '<br><br>');\r\n            return;\r\n        }\r\n        this.cmd('insertBrOnReturn', false);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®ç²ä½\r\n     */\r\n    switchBold(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('bold', false, '');\r\n        this.isBold = !this.isBold;\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®æä½\r\n     */\r\n    switchItalic(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('italic', false, '');\r\n        this.isItalic = !this.isItalic;\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®ä¸åçº¿\r\n     */\r\n    switchUnderline(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('underline', false, '');\r\n        this.isUnderline = !this.isUnderline;\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®å é¤çº¿\r\n     */\r\n    switchStrikeThrough(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('strikeThrough', false, '');\r\n        this.isStrikeThrough = !this.isStrikeThrough;\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®/åæ¶ä¸/ä¸æ \r\n     */\r\n    setScript(e: Event, cmd: 'superscript' | 'subscript') {\r\n        this.ensureFocus(e);\r\n        if (this.scriptActive === cmd) { // åæ¶ä¸/ä¸æ \r\n            this.cmd(cmd, false, '');\r\n            this.scriptActive = '';\r\n            return;\r\n        }\r\n        // è®¾ç½®ä¸/ä¸æ \r\n        this.scriptActive = cmd;\r\n        this.cmd(cmd, false, '');\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®æå­å¯¹é½æ¹å\r\n     * @param  e äºä»¶\r\n     */\r\n    setJustifyactive(e: Event, str: 'Left' | 'Right' | 'Center' | 'Full') {\r\n        this.ensureFocus(e);\r\n        this.justifyActive = 'justify' + str;\r\n        this.cmd(this.justifyActive, false);\r\n    }\r\n\r\n    /**\r\n     * ç¼©è¿\r\n     */\r\n    indent(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('indent', false, '');\r\n    }\r\n\r\n    /**\r\n     * åå°ç¼©è¿\r\n     */\r\n    outdent(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('outdent', false, '');\r\n    }\r\n\r\n    /**\r\n     * æå¥æåºåè¡¨\r\n     */\r\n    insertOrderedList(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('insertOrderedList', false, '');\r\n    }\r\n\r\n    /**\r\n     * æå¥æ åºåè¡¨\r\n     */\r\n    insertUnorderedList(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('insertUnorderedList', false, '');\r\n    }\r\n\r\n    /**\r\n     * æå¥è¡¨æ ¼è°èµ·æå¥è¡¨æ ¼UI\r\n     */\r\n    insertTable(e: any) {\r\n        this.alert({ title: 'æå¥è¡¨æ ¼', animation: 'scale', content: UITableComponent, handler: this, theme: this.theme });\r\n    }\r\n    /**\r\n     * ç¹å»è¡¨æ ¼UIå¼¹çªç¡®è®¤æ¶åè°\r\n     * @param html æå¥çhtml\r\n     */\r\n    recieveTableHTML(html: string) {\r\n        this.startEdit();\r\n        this.cmd('insertHTML', false, html);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * æå¥è¶é¾æ¥è°èµ·æå¥è¶é¾æ¥UI\r\n     * @param e äºä»¶\r\n     */\r\n    insertLink(e: any) {\r\n        this.alert({ title: 'æå¥é¾æ¥', animation: 'scale', content: UILinkComponent, handler: this, theme: this.theme });\r\n    }\r\n    /**\r\n     * ç¹å»è¶é¾æ¥UIå¼¹çªç¡®è®¤æ¶åè°\r\n     * @param html æå¥çhtml\r\n     */\r\n    recieveLinkHTML(html: string) {\r\n        this.startEdit();\r\n        this.cmd('insertHTML', false, html);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * æå¥å¾çè°èµ·æå¥å¾çUI\r\n     * @param e äºä»¶\r\n     */\r\n    insertFile(e: any) {\r\n        this.alert({ title: 'æå¥æä»¶', animation: 'scale', content: UIAnnexComponent, handler: this, theme: this.theme });\r\n    }\r\n    /**\r\n     * ç¹å»ä¸ä¼ æä»¶UIå¼¹çªä¸ä¼ æ¬å°æä»¶æ¶åµå¥base64æ¶åè°\r\n     * @param html æå¥çhtml\r\n     */\r\n    recieveLocalFileHTML(html: string) {\r\n        this.startEdit();\r\n        this.cmd('insertHTML', false, html);\r\n        return true;\r\n    }\r\n    /**\r\n     * ç¹å»ä¸ä¼ æä»¶UIå¼¹çªâæå¥å¤é¾âæ¶åè°\r\n     * @param html æå¥çhtml\r\n     */\r\n    recieveFileLinkHTML(html: string) {\r\n        this.startEdit();\r\n        this.cmd('insertHTML', false, html);\r\n        return true;\r\n    }\r\n    /**\r\n     * åå°éæ©æä»¶äºä»¶\r\n     * @param  type æä»¶ç±»å\r\n     * @param  file æä»¶\r\n     * @param  parser ä¼ å¥srcè·åhtml\r\n     * @param  close  å³é­å¼¹çªåé®ç½©\r\n     */\r\n    emitUploadFile(type: 'image' | 'audio' | 'video', file: any, parser: (v: string) => string, close: (b: boolean, t?: number) => void) {\r\n        this.uploadFile.emit({\r\n            type, file, callback: (src: string | boolean, t?: number) => {\r\n                if (!!src) {\r\n                    this.recieveFileLinkHTML(parser(src as string));\r\n                }\r\n                close(!!src, t);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æå¥hr\r\n     */\r\n    insertHorizontalRule(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('insertHorizontalRule', false, '');\r\n    }\r\n\r\n    /**\r\n     * ç²è´´\r\n     */\r\n    paste(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('paste', false, '');\r\n    }\r\n\r\n    /**\r\n     * åªå\r\n     */\r\n    cut(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('cut', false, '');\r\n    }\r\n\r\n    /**\r\n     * å¤å¶\r\n     */\r\n    copy(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('copy', false, '');\r\n    }\r\n\r\n    /**\r\n     * éä¸­ææ\r\n     */\r\n    selectAll(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('selectAll', false, '');\r\n    }\r\n\r\n    /**\r\n     * éå\r\n     */\r\n    redo(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('redo', false, '');\r\n    }\r\n\r\n    /**\r\n     * æ¤é\r\n     */\r\n    undo(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('undo', false, '');\r\n    }\r\n\r\n    /**\r\n     * å é¤éä¸­\r\n     */\r\n    deleteSelect(e: any) {\r\n        this.ensureFocus(e);\r\n        this.cmd('delete', false, '');\r\n    }\r\n\r\n    /**\r\n     * è·ååå²è¾å¥\r\n     */\r\n    history(e: Event) {\r\n        this.ensureFocus(e);\r\n        this.vhtml = window.localStorage.getItem('editor_input') || '';\r\n        setTimeout(() => {\r\n            // éè®¾åæ \r\n            CursorUtil.setSelectionToElement(this.pannel, false);\r\n            this.setRange();\r\n            this.autoActive();\r\n        });\r\n        // 1.åå°innerHTML,inputäºä»¶æ¥æ¶\r\n        this.onInput.emit(this.vhtml);\r\n        // 2.è§¦ångModelChangeäºä»¶\r\n        this.onChange(this.vhtml);\r\n    }\r\n\r\n    /**\r\n     * æ¸é¤æ ¼å¼ï¼ä¸é»æ­¢å¤±ç¦ï¼éæ°èç¦æ¶ä¼è®¾ç½®åå²æ ¼å¼\r\n     */\r\n    removeFormat() {\r\n        this.cmd('removeFormat', false);\r\n        this.initFormatData();\r\n        this.setDefaultFormat();\r\n    }\r\n\r\n    /**\r\n     * éèåç±»ä¸ææ¡\r\n     * @param e äºä»¶\r\n     */\r\n    hideSwitchPannel(e: any) {\r\n        const target = e.target || e.srcElement;\r\n        if (this.switchFontFamilyPannel && !CommonUtil.contains(this.fontNameEl, target)) {\r\n            this.switchFontFamilyPannel = false;\r\n            return;\r\n        }\r\n        if (this.switchFontSizePannel && !CommonUtil.contains(this.fontSizeEl, target)) {\r\n            this.switchFontSizePannel = false;\r\n            return;\r\n        }\r\n        if (this.switchForeColorPannel && !CommonUtil.contains(this.foreColorEl, target)) {\r\n            this.switchForeColorPannel = false;\r\n            return;\r\n        }\r\n        if (this.switchBackColorPannel && !CommonUtil.contains(this.backColorEl, target)) {\r\n            this.switchBackColorPannel = false;\r\n            return;\r\n        }\r\n        if (this.switchFormatBlockPannel && !CommonUtil.contains(this.formatBlockEl, target)) {\r\n            this.switchFormatBlockPannel = false;\r\n            return;\r\n        }\r\n        if (this.switchCodePannel && !CommonUtil.contains(this.codeEl, target)) {\r\n            this.switchCodePannel = false;\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å¨å±æåæ¶å¨å±\r\n     */\r\n    SwitchScreen() {\r\n        const editor: any = this.editor;\r\n        const header: any = this.header;\r\n        const pannel: any = this.pannel;\r\n        const footer: any = this.footer;\r\n        this.full = !this.full;\r\n        if (this.full) { // å¨å±\r\n            editor.style.cssText = 'position:fixed;z-index:99999;top:0;left:0;transform:none;width:100%;height:100%;';\r\n            pannel.style.cssText = `max-height:unset;height:${window.innerHeight - header.offsetHeight - footer.offsetHeight}px;`;\r\n            document.body.appendChild(editor);\r\n        } else {        // è¿å\r\n            editor.style.cssText = '';\r\n            pannel.style.cssText = '';\r\n            this.parent.appendChild(editor);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * çå¬æé®äºä»¶ (å¤çtabç¼©è¿)\r\n     * @param e æé®äºä»¶\r\n     */\r\n    keydown(e: Event | any) {\r\n        const key = e.keyCode || e.which || e.charCode;\r\n        if (key !== 9) {\r\n            return;\r\n        }\r\n        // æä¸tabé®ï¼å¢å ç¼©è¿2ä¸ªç©ºæ ¼\r\n        const tab = new Array(5).join('&nbsp;');\r\n        this.cmd('insertHTML', false, tab);\r\n        e.preventDefault();\r\n        return;\r\n    }\r\n\r\n    /**\r\n     * çå¬æé®å¼¹èµ·äºä»¶\r\n     * @param e æé®å¼¹èµ·äºä»¶\r\n     */\r\n    keyup(e: Event | any) {\r\n        this.setRange();\r\n        if (this.detectCode()) { return; }\r\n        // tslint:disable-next-line: deprecation\r\n        e = e || window.event;\r\n        const key = e.keyCode || e.which || e.charCode;\r\n        // çå¬home,endåä¸ä¸å·¦å³æé®ï¼æåéé®æå é¤é®æenteré®ï¼è®¾ç½®æ¿æ´»æå­æ ¼å¼\r\n        if ((key >= 35 && key <= 40) || key === 8 || key === 46 || key === 13) {\r\n            this.autoActive();\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ç¹å»é¢æ¿\r\n     */\r\n    pannelOnClick() {\r\n        this.initEdit();\r\n        this.setRange();\r\n        this.autoActive();\r\n        // ç¹å»åæ£æµæ¯å¦å¨ä»£ç åºåï¼åæ å¨clickååºç°ï¼\r\n        // æä»¥è¿ééè¦è®¾ç½®å»¶æ¶ä»»å¡è§¦åæ£æµã\r\n        setTimeout(() => this.detectCode());\r\n    }\r\n\r\n    /**\r\n     * å¨ç¼è¾é¢æ¿ä¸­ç²è´´ï¼è¥å¨ä»£ç åºåç²è´´åæ¸é¤æ ¼å¼ï¼ï¼ï¼ï¼\r\n     */\r\n    pannelOnPaste(e: any) {\r\n        setTimeout(() => { this.autoActive(); });\r\n        if (!this.inCode) { // ä¸å¨ä»£ç åº\r\n            this.setRangeAndEmitValue(0);\r\n            return;\r\n        }\r\n        const obj = CommonUtil.isIE() ? window : e;\r\n        if (!obj.clipboardData) { return; }\r\n        const text = obj.clipboardData.getData('text');\r\n        const df = document.createDocumentFragment();\r\n        df.appendChild(document.createTextNode(text));\r\n        CursorUtil.insertNode(df);\r\n        e.preventDefault();\r\n        e.returnValue = false;\r\n    }\r\n\r\n    /**\r\n     * è¾å¥æ¶è®°ä½ååä½ç½® && inputäºä»¶åå°value && è®°ä½è¾å¥\r\n     */\r\n    setRangeAndEmitValue(arg0: number | Event) {\r\n        if (typeof arg0 !== 'number') {\r\n            arg0 = 300;\r\n        }\r\n        this.setRange();\r\n        this.debounce(() => {\r\n            const innerHTML = this.pannel.innerHTML;\r\n            if (this.vhtml === innerHTML) { return; }\r\n            // æåå®¹æ¶æä¿å­å°æ¬å°\r\n            const len = (this.pannel.innerText || this.pannel.textContent).length;\r\n            if (len > 1) {\r\n                window.localStorage.setItem('editor_input', innerHTML);\r\n            }\r\n            // 1.åå°innerHTML,inputäºä»¶æ¥æ¶\r\n            this.onInput.emit(innerHTML);\r\n            // 2.è§¦ångModelChangeäºä»¶\r\n            this.onChange(innerHTML);\r\n        }, arg0);\r\n    }\r\n\r\n    /**\r\n     * åå°ç¼è¾åå®¹\r\n     */\r\n    emitContent() {\r\n        let size = 0;\r\n        const editPannel = this.pannel as any;\r\n        // æ£æµç¼è¾åå®¹å¤§å°\r\n        let innerHTML: string = editPannel.innerHTML;\r\n        for (let i = 0, len = innerHTML.length; i < len; i++) {\r\n            const c = innerHTML.charCodeAt(i);\r\n            if (c > 0 && c < 255) {\r\n                size++;\r\n            } else {\r\n                size += 2;\r\n            }\r\n        }\r\n        if (size > this.options$.maxsize) {\r\n            this.toast('ç¼è¾åå®¹è¶åºå¤§å°~');\r\n            innerHTML = innerHTML.substr(0, this.options$.maxsize);\r\n        }\r\n        const image = this.getUrlsByTag(this.pannel, 'img');\r\n        const audio = this.getUrlsByTag(this.pannel, 'audio');\r\n        const video = this.getUrlsByTag(this.pannel, 'video');\r\n        const obj = {\r\n            innerHTML,\r\n            innerTEXT: editPannel.innerText || editPannel.textContent,\r\n            urls: { image, audio, video }\r\n        };\r\n        this.recieveContent.emit(obj);\r\n    }\r\n\r\n    /**\r\n     * å¦æé¢æ¿ä¸èç¦åä½¿é¢æ¿èç¦\r\n     */\r\n    pannelFocus() {\r\n        if (document.activeElement !== this.pannel) {\r\n            this.pannel.focus();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ç¡®ä¿ç¼è¾é¢æ¿èç¦ï¼è®¾ç½®ç¼è¾é¢æ¿ä¸æ¬¡åæ ä¸ºå½ååæ \r\n     */\r\n    private recoverRange() {\r\n        if (!this.pannel) { return; }\r\n        // ç¡®ä¿ç¼è¾é¢æ¿åæ¯èç¦ç\r\n        this.pannelFocus();\r\n        if (this.range) { // å­å¨ä¸æ¬¡åæ ï¼åè®¾ç½®ä¸æ¬¡åæ \r\n            CursorUtil.setFirstRange(this.range);\r\n            return;\r\n        }\r\n        CursorUtil.setSelectionToElement(this.pannel, false);\r\n    }\r\n\r\n    /**\r\n     * 1.èç¦é¢æ¿å¹¶è·åä¸æ¬¡åæ ä½ç½®,è®¾ç½®å½ååå²ç¼è¾æ ·å¼\r\n     * 2.ç¹å»ç¼è¾æ¡çå½ä»¤æèç¼è¾é¢æ¿åï¼å°è§ä¸ºç¼è¾ç¶æ\r\n     * @param  recover? æ¯å¦éè¦æ¢å¤ä¸æ¬¡åæ \r\n     */\r\n    private startEdit(recover: boolean = true) {\r\n        // æ¢å¤ä¸æ¬¡åæ ï¼ç¹å»ç¼è¾é¢æ¿ä¸éè¦æ¢å¤ä¸æ¬¡åæ ï¼ç¹å»ç¼è¾æ¡éè¦æ¢å¤ä¸æ¬¡åæ ï¼\r\n        if (recover) {\r\n            this.recoverRange();\r\n        }\r\n        this.initEdit();\r\n    }\r\n\r\n    /**\r\n     * é»æ­¢é»è®¤äºä»¶é²æ­¢å¤±ç¦ï¼ç¡®ä¿ç¼è¾é¢æ¿èç¦ï¼è®¾ç½®åå²åæ åæ ¼å¼\r\n     * @param e äºä»¶å¯¹è±¡\r\n     */\r\n    private ensureFocus(e: Event) {\r\n        // é»æ­¢å¤±ç¦\r\n        e.preventDefault();\r\n        // ç¼è¾åå§å\r\n        this.startEdit();\r\n    }\r\n\r\n    /**\r\n     * ç¼è¾åå§ååè®¾ç½®åå²æ ¼å¼\r\n     */\r\n    private initEdit() {\r\n        // å¨ç¼è¾ç¶æä¸åæ¬¡è¿è¡åå§å\r\n        if (this.isInEditStatus) {\r\n            return;\r\n        }\r\n        // æ è®°é¢æ¿å¤äºç¼è¾ç¶æ\r\n        if (!this.isInEditStatus) {\r\n            this.isInEditStatus = true;\r\n        }\r\n        // å¦æåæ å¨å´æåå®¹åä¸è®¾ç½®é»è®¤æ ¼å¼\r\n        const el = CursorUtil.getRangeCommonParent();\r\n        if (!el || el.nodeType === 3) {\r\n            return;\r\n        }\r\n        // å¨ä»£ç åºä¸è®¾ç½®é»è®¤æ ¼å¼\r\n        if (this.inCode) {\r\n            return;\r\n        }\r\n        // å¦ææ²¡æåå®¹ï¼åæ ¼å¼åé»è®¤æ ¼å¼\r\n        if (!this.pannel.children || !this.pannel.children.length) {\r\n            this.setDefaultFormat();\r\n        }\r\n    }\r\n\r\n    setDefaultFormat() {\r\n        this.cmd('formatBlock', false, this.formatBlock);\r\n        this.cmd('fontName', false, this.fontFamily.value);\r\n        this.cmd('fontSize', false, this.fontSize.value);\r\n    }\r\n\r\n    /**\r\n     * æ¥è¯¢æ¯å¦æ¯æå½ä»¤\r\n     * @param cmd å½ä»¤\r\n     */\r\n    private isSupport(cmd: string): boolean {\r\n        return document.queryCommandSupported(cmd);\r\n    }\r\n\r\n    /**\r\n     * å¼å®¹insertHTMLå½ä»¤\r\n     * @param html html\r\n     */\r\n    private insertHTML(html: string) {\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        const range = <Range>CursorUtil.getRange(0);\r\n        range.deleteContents();\r\n        const df = document.createDocumentFragment();\r\n        let name = 'div';\r\n        if (html.indexOf('<a>') > -1) { name = 'span'; }\r\n        const el = document.createElement(name);\r\n        el.innerHTML = html;\r\n        df.appendChild(el);\r\n        range.insertNode(df);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å°è£çç¼è¾å½ä»¤\r\n     * @param k å½ä»¤åç§°\r\n     * @param ui æå¼uiå¼¹çª\r\n     * @param v è®¾ç½®å½ä»¤å¼\r\n     * @returns true-è®¾ç½®æåï¼false-è®¾ç½®å¤±è´¥\r\n     */\r\n    private cmd(k: string, ui: boolean, v?: any) {\r\n        if (!this.isSupport(k)) { // ä¸æ¯æè¯¥å½ä»¤\r\n            // å°è¯å¼å®¹å½ä»¤\r\n            if ('insertHTML' === k) { return this.insertHTML(v); }\r\n            this.toast('ç³»ç»ä¸æ¯æè¯¥å½ä»¤~');\r\n            return false;\r\n        }\r\n        const r = document.execCommand(k, ui, v || '');\r\n        // æ§è¡å®ä»¥ä¸å½ä»¤åï¼éä»£ç åºåéè¦èªå¨æ£æµæå­æ ¼å¼ï¼æ ·å¼ï¼\r\n        const blackList = 'redo,undo,delete,insertHTML,insertHorizontalRule,insertUnorderedList,insertOrderedList';\r\n        if (r && blackList.indexOf(k) > -1 && !this.inCode) {\r\n            this.autoActive();\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     * input,click,selectionchangeäºä»¶è®°å½ç¼è¾é¢æ¿åæ ä½ç½®\r\n     */\r\n    private setRange() {\r\n        this.range = CursorUtil.getRange(0, this.pannel);\r\n    }\r\n\r\n    /**\r\n     * èªå¨æ£æµæå­æ ¼å¼æ¿æ´»æ ·å¼ï¼å ç²ï¼æä½ï¼ä¸åçº¿ï¼å é¤çº¿ï¼ä¸æ ï¼ä¸æ ......ï¼\r\n     */\r\n    private autoActive() {\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        let p = <HTMLElement>(CursorUtil.getRangeCommonParent());\r\n        if (!p) { return; }\r\n        // å¦æéåå¯¹è±¡çèç¹æ¯ææ¬èç¹ï¼åå°påä¸ºå¶ç¶èç¹\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        if (p.nodeName === '#text') { p = <HTMLElement>p.parentNode; }\r\n        if (!p) { return; }\r\n        // æ®µè½æ ¼å¼\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.formatBlock = AppZeditorComponent.FORMAT.formatBlock;\r\n                return true;\r\n            }\r\n            const formatBlock = e.nodeName;\r\n            const formatBlock$ = this.formatBlocks.find((fb: any) => {\r\n                return fb.key.toUpperCase() === formatBlock;\r\n            });\r\n            if (formatBlock$) {\r\n                this.formatBlock = formatBlock$.key;\r\n                return true;\r\n            }\r\n        });\r\n        // å­æ ·\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.fontFamily = AppZeditorComponent.FORMAT.fontFamily;\r\n                return true;\r\n            }\r\n            const fontFamily = e.getAttribute('face');\r\n            if (!fontFamily) { return; }\r\n            const fontFamily$ = this.fontFamilys.find((ff: any) => {\r\n                return ff.value.toLowerCase() === fontFamily.toLowerCase();\r\n            });\r\n            if (fontFamily$) {\r\n                this.fontFamily = fontFamily$;\r\n                return true;\r\n            }\r\n        });\r\n        // å­å·\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.fontSize = AppZeditorComponent.FORMAT.fontSize;\r\n                return true;\r\n            }\r\n            const fontSize = e.getAttribute('size');\r\n            if (!fontSize) { return; }\r\n            const fontSize$ = this.fontSizes.find((fs: any) => {\r\n                return fs.value === fontSize;\r\n            });\r\n            if (fontSize$) {\r\n                this.fontSize = fontSize$;\r\n                return true;\r\n            }\r\n        });\r\n        // åæ¯è²\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.foreColor = AppZeditorComponent.FORMAT.foreColor;\r\n                return true;\r\n            }\r\n            const foreColor = CommonUtil.rgbToHex(e.getAttribute('color'));\r\n            const foreColor$ = CommonUtil.flat(this.colors).find((cr: any) => {\r\n                return cr.toLowerCase() === foreColor.toLowerCase();\r\n            });\r\n            if (foreColor$) {\r\n                this.foreColor = foreColor$;\r\n                return true;\r\n            }\r\n        });\r\n        // èæ¯è²\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.backColor = AppZeditorComponent.FORMAT.backColor;\r\n                return true;\r\n            }\r\n            const backColor = CommonUtil.rgbToHex(e.style.backgroundColor);\r\n            const backColor$ = CommonUtil.flat(this.colors).find((cr: any) => {\r\n                return cr.toLowerCase() === backColor.toLowerCase();\r\n            });\r\n            if (backColor$) {\r\n                this.backColor = backColor$;\r\n                return true;\r\n            }\r\n        });\r\n        // å ç²\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.isBold = AppZeditorComponent.FORMAT.isBold;\r\n                return true;\r\n            }\r\n            if (e.nodeName === 'STRONG' || e.nodeName === 'B') {\r\n                return this.isBold = true;\r\n            }\r\n        });\r\n        // æä½\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.isItalic = AppZeditorComponent.FORMAT.isItalic;\r\n                return true;\r\n            }\r\n            if (e.nodeName === 'EM' || e.nodeName === 'I') {\r\n                return this.isItalic = true;\r\n            }\r\n        });\r\n        // ä¸åçº¿\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.isUnderline = AppZeditorComponent.FORMAT.isUnderline;\r\n                return true;\r\n            }\r\n            if (e.nodeName === 'U') {\r\n                return this.isUnderline = true;\r\n            }\r\n        });\r\n        // å é¤çº¿\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.isStrikeThrough = AppZeditorComponent.FORMAT.isStrikeThrough;\r\n                return true;\r\n            }\r\n            if (e.nodeName === 'STRIKE') {\r\n                return this.isStrikeThrough = true;\r\n            }\r\n        });\r\n        // ä¸æ ï¼ä¸æ \r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.scriptActive = AppZeditorComponent.FORMAT.scriptActive;\r\n                return true;\r\n            }\r\n            if (e.nodeName === 'SUP') {\r\n                return this.scriptActive = 'superscript';\r\n            }\r\n            if (e.nodeName === 'SUB') {\r\n                return this.scriptActive = 'subscript';\r\n            }\r\n        });\r\n        // å¯¹é½æ¹å¼\r\n        this.grandChildTograndParent(p, (e: HTMLElement) => {\r\n            if (e === this.pannel) {\r\n                this.justifyActive = AppZeditorComponent.FORMAT.justifyActive;\r\n                return true;\r\n            }\r\n            const textAlign = e.getAttribute('align') || e.style.textAlign;\r\n            if (textAlign === 'left') {\r\n                return this.justifyActive = 'justifyLeft';\r\n            } else if (textAlign === 'center') {\r\n                return this.justifyActive = 'justifyCenter';\r\n            } else if (textAlign === 'right') {\r\n                return this.justifyActive = 'justifyRight';\r\n            } else if (textAlign === 'justify') {\r\n                return this.justifyActive = 'justifyFull';\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * ä»ææ·±å±èç¹å°æå¤å±èç¹æ§è¡åè°\r\n     * @param start ææ·±å±èç¹\r\n     * @param end æå¤å±èç¹\r\n     * @param fn åè° ç´å°åè°è¿åtrueæ¶æä¼ç»æ­¢åè°çæ§è¡\r\n     */\r\n    private grandChildTograndParent(start: any, fn: any) {\r\n        let o = start;\r\n        while (!!o) {\r\n            if (fn(o)) { return; }\r\n            o = o.parentNode;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ¾ç®æ åç´ ççæä¸ªæ ç­¾çurlsåbase64çurl\r\n     * @param target åç´ \r\n     * @param tag æ ç­¾\r\n     */\r\n    private getUrlsByTag(target: HTMLElement, tag: string): { type: 'url' | 'base64', src: string }[] {\r\n        const arr = [] as any;\r\n        const tags = target.getElementsByTagName(tag.toUpperCase());\r\n        Array.prototype.forEach.call(tags, elem => {\r\n            const item = {} as any;\r\n            const src = elem.src;\r\n            if (src.indexOf('data:image/png;base64,') === -1) {\r\n                item.type = 'url';\r\n            } else {\r\n                item.type = 'base64';\r\n            }\r\n            item.src = src;\r\n            arr.push(item);\r\n        });\r\n        return arr;\r\n    }\r\n\r\n    /**\r\n     * å¤æ­èå´Rangeæ¯å¦åä»£ç åºæäº¤é\r\n     * @returns true - æäº¤éï¼false - æ äº¤é\r\n     */\r\n    private detectCode(): boolean {\r\n        this.pannelFocus();\r\n        let parent = CursorUtil.getRangeCommonParent() as any;\r\n        if (!parent) { return false; }\r\n        // å¦ææ¯ææ¬èç¹åæ¾å¶ç¶åç´ \r\n        if (parent.nodeType === 3) { parent = parent.parentNode; }\r\n        return this.inCode = (() => { // è¢«åå«\r\n            let parent$ = parent;\r\n            // tslint:disable-next-line: no-conditional-assignment\r\n            while (parent$ = parent$.parentNode) {\r\n                if (parent$.tagName === 'CODE') {\r\n                    return true;\r\n                }\r\n                if (parent$ === this.pannel) {\r\n                    return false;\r\n                }\r\n            }\r\n            return false;\r\n        })() || (() => { // åå«\r\n            const range = CursorUtil.getRange(0) as any;\r\n            if (range.cloneContents) { // æ°æ å\r\n                const ele = range.cloneContents();\r\n                const childs = CommonUtil.getAllChilds(ele);\r\n                for (let i = 0, len = childs.length; i < len; i++) {\r\n                    if (childs[i].nodeName === 'CODE') {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n            // æ§æ å\r\n            const html = range.htmlText || '';\r\n            return /<code|<\\/code>/.test(html);\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * toastæç¤º\r\n     * @param  text? toastæç¤º é»è®¤ä¸ºâè®¾ç½®æ æ~â\r\n     * @param  duration? åçæ¶é´\r\n     */\r\n    private toast(text: string = 'è®¾ç½®æ æ~', obj?: { duration: number, enter: number, leave: number }) {\r\n        return this.domService.tost({ text, ...obj });\r\n    }\r\n\r\n    /**\r\n     * å¼¹çª\r\n     */\r\n    private alert(obj: WindowOptions) {\r\n        return this.domService.alert(obj);\r\n    }\r\n\r\n\r\n    /**\r\n     * é²æ\r\n     * @param  f åè°\r\n     * @param  t? é²ææ¶å»¶ é»è®¤300ms\r\n     */\r\n    private debounce(f: () => void, t: number = 300) {\r\n        const o = this.debounce as any;\r\n        clearTimeout(o.timer);\r\n        o.timer = setTimeout(() => {\r\n            f();\r\n        }, t);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { SafeHtmlPipe } from './util/safeHtml.pipe';\nimport { DomService } from './service/DomService';\nimport { TipComponent } from './_alert/tip/tip';\nimport { WindowComponent } from './_alert/window/window';\nimport { UILinkComponent } from './ui-link/ui-link';\nimport { UITableComponent } from './ui-table/ui-table';\nimport { UIAnnexComponent } from './ui-annex/ui-annex';\nimport { CheckBoxComponent } from './_form/checkbox/checkbox';\nimport { RadioGroupComponent } from './_form/radio-group/radio-group';\nimport { AppZeditorComponent } from './ng-zeditor.component';\nimport { FormsModule} from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule\n    ],\n    declarations: [\n        AppZeditorComponent,\n        TipComponent,\n        WindowComponent,\n        UILinkComponent,\n        UITableComponent,\n        UIAnnexComponent,\n        CheckBoxComponent,\n        RadioGroupComponent,\n        SafeHtmlPipe\n    ],\n    providers: [\n        DomService\n    ],\n    entryComponents: [\n        TipComponent,\n        WindowComponent,\n        UILinkComponent,\n        UITableComponent,\n        UIAnnexComponent\n    ],\n    exports: [\n        AppZeditorComponent,\n        FormsModule,\n        CommonModule\n    ]\n})\nexport class NgZeditorModule { }\n"],"names":["Pipe","DomSanitizer","Component","ApplicationRef","ViewChild","TemplateRef","InjectionToken","Injector","ComponentFactoryResolver","ElementRef","ViewContainerRef","ReflectiveInjector","Injectable","NG_VALUE_ACCESSOR","forwardRef","Input","Options","EventEmitter","ViewEncapsulation","ChangeDetectionStrategy","Renderer2","Output","NgModule","CommonModule","FormsModule"],"mappings":"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"}